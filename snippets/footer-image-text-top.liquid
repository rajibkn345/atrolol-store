<{{ tag }}
  id="Details-{{ block.id }}-{{ section.id }}"
  {% if tag == 'details' %}
    is="footer-details"
    open
    data-open-default="{{ block.settings.open_default }}"
  {% endif %}
  class="accordion-details footer-accordion-details"
>
  {%- if block.settings.heading != blank -%}
    <summary class="accordion-details__summary flex items-center justify-between gap-2">
      <h3 class="footer-block__heading inline-richtext {{ block.settings.heading_size }}">
        {{- block.settings.heading -}}
      </h3>
      <span class="flex items-center lg:hidden">
        {%- render 'icon-plus-toggle', size: 'small' -%}
      </span>
    </summary>
  {%- endif -%}
  <div class="{% if tag == 'details' %}accordion-details__content footer-image-box{% else %}footer-image-box{% endif %} footer-image-box--{{ block.settings.layout }}">
    {% if block.settings.image != blank %}
      <div
        class="footer-image-box__image"
        style="--image-width: {{ block.settings.image_width }}px; --image-width-mobile: {{ block.settings.image_width_mobile }}px;"
      >
        {%- liquid
          assign block_image = block.settings.image
          assign block_image_mobile = block.settings.image_mobile
          assign image_ratio = block_image.aspect_ratio

          if block_image_mobile == blank
            assign image_mobile_ratio = image_ratio
          else
            assign image_mobile_ratio = block_image_mobile.aspect_ratio
          endif

          assign image_width = block.settings.image_width | append: 'px'
        -%}
        <motion-element class="block" data-motion="zoom-out-sm" data-motion-delay="{{ motion_delay }}">
          <picture
            class="media-wrapper blocks-radius overflow-hidden"
            style="--aspect-ratio: {{ image_ratio }};{% if image_mobile_ratio %}--aspect-ratio-mobile: {{ image_mobile_ratio }};{% endif %}"
          >
            {%- if block_image_mobile -%}
              <source
                media="(max-width: 767px)"
                srcset="{{ block_image_mobile | image_url: width: '400x' }} 400w, {{ block_image_mobile | image_url: width: '600x' }} 600w, {{ block_image_mobile | image_url: width: '800x' }} 800w, {{ block_image_mobile | image_url: width: '1000x' }} 1000w"
                width="{{ block_image_mobile.width }}"
                height="{{ block_image_mobile.height }}"
              >
            {%- endif -%}
            {% assign alt_image = block_image.alt | escape %}
            {{
              block_image
              | image_url: width: 1100
              | image_tag:
                loading: 'lazy',
                class: 'motion-reduce',
                sizes: image_width,
                widths: '165, 360, 535, 750, 940, 1100',
                is: 'image-lazy',
                class: 'absolute inset-0 w-full h-full',
                alt: alt_image
            }}
          </picture>
        </motion-element>
      </div>
    {% endif %}

    {%- if block.settings.text != blank -%}
      <div class="footer-image-box__text text-subtext rte">
        {{ block.settings.text }}
      </div>
    {%- endif -%}
    <div class="block">
      {%- if block.settings.button_label != blank -%}
        {% render 'button',
          button_style: block.settings.button_style,
          button_link: block.settings.button_link,
          button_label: block.settings.button_label
        %}
      {%- endif -%}
    </div>
  </div>
</{{ tag }}>
